# TestWasmerJS - POC WasmerJS + Github Pages

[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![GitHub Pages](https://img.shields.io/badge/GitHub%20Pages-Live-blue.svg)](https://nnosal.github.io/testwasmerjs/)

POC trÃ¨s rapide dÃ©montrant l'exÃ©cution de modules Wasm dans le navigateur via Wasmer-JS SDK, sans backend ni build complexe.

## A Propos

1. Le projet utilise "[wasmer](https://github.com/wasmerio/wasmer)", qui dispose d'un registre de wasm prÃªt Ã  l'emploi (https://wasmer.io/products/registry).
2. J'utilise la partie SDK JS: https://docs.wasmer.io/sdk/wasmer-js qui est la plus intÃ©rÃ©ssante car on peux la packager dans n'importe quel page html, mÃªme sur github pages.
3. J'ai configurÃ© vite mais il n'est pas nÃ©cessaire, l'idÃ©e est de montrer simplement qu'il n'y pas besoin de compilation moderne (typescript, webpack, etc) ni de dÃ©ploiement spÃ©cifique pour utiliser du WASM. 

## Pourquoi?

Cela fait prÃ¨s de 10 ans que le [WASM](https://en.wikipedia.org/wiki/WebAssembly) est en cours de dÃ©veloppement, mais ce n'est que rÃ©cemment que nous avons des applications plus matures pour Ãªtre utiliser dans les navigateurs web. Son usage viendra complÃ©ter la containerisation qui succÃ¨de Ã  la virtualisation. Offrant dans le futur d'avantage de facilitÃ© pour prÃ©visualiser dans son navigateur une maquette, une snapshot, ou mÃªme disposÃ© d'une interface de gestion dÃ©couplÃ©e directement depuis le dÃ©pot Github (d'oÃ¹ ce POC).

## ğŸ§© DÃ©mos disponibles

| Demo | Statut | Lien Wasmer |
| --- | --- | --- |
| PHP | âœ… Fonctionnel | [wasmer.io/php/php](https://wasmer.io/php/php) |
| Python | âœ… Fonctionnel | [wasmer.io/python/python](https://wasmer.io/python/python) |
| WordPress | âš ï¸ LimitÃ© | [wasmer.io/wasmer-examples/php-wasmer-starter](https://wasmer.io/wasmer-examples/php-wasmer-starter) |

## ğŸŒŸ FonctionnalitÃ©s clÃ©s

- ğŸš€ **ZÃ©ro configuration / compilation** - Fonctionne avec du HTML/JS pur.
- ğŸ“¦ **DÃ©pendances incluses** - Wasmer-JS embarquÃ© localement.
- ğŸ”¥ **3 dÃ©mos intÃ©grÃ©es** :
  - PHP (via WASM)
  - Python (via WASM)
  - WordPress (limitÃ© par la configuration rÃ©seau)
- ğŸŒ **Testable immÃ©diatement (via GitHub Pages)** - grÃ¢ce Ã  "Github Actions" + le workaround "[coi-serviceworker](https://github.com/gzuidhof/coi-serviceworker)" afin de permettre la compliance CORS nÃ©cessaire pour executer Wasmer.

## ğŸ›  Test: dÃ©veloppement (optionnel)

> Utilise [bun.sh](https://bun.sh) pour remplacer npm et [mise.jdx.dev](https://mise.jdx.dev/) pour setup l'environement.

0. Installer les outils et dÃ©pendances Node : `mise install && mise r install`
1. Avec Vite (recommandÃ©) : `mise r vite`
2. Avec Caddy (alternative): `mise r caddy`
3. ( Exemple dist-build sans rollup: `bun run build` )

### ğŸš€ Test: Production

Le projet est prÃ©-configurÃ© pour GitHub Pages. Un workflow s'occupe d'installer les dÃ©pendances et publier le rendu statique : [https://github.com/nnosal/testwasmerjs](https://github.com/nnosal/testwasmerjs)

## âš ï¸ Limitations connues

1. **WordPress**Â nÃ©cessite l'optionÂ `--net`Â qui n'est pas encore disponible dans Wasmer-JS ([issue #4406](https://github.com/wasmerio/wasmer/issues/4406)). 
   - Pour tester WordPress en local, il faut encore utiliser la CLI Wasmer : `wasmer run wasmer-examples/php-wasmer-starter --net`.
2. La version CDN via unpkg "[https://unpkg.com/@wasmer/sdk@0.9.0/dist/index.mjs](https://unpkg.com/@wasmer/sdk@0.9.0/dist/index.mjs)" peut causer des timeouts Cloudflare d'oÃ¹ l'import via npm.
3. TestÃ© non fonctionnel sur Firefox de mon cÃ´tÃ©, tout les moteurs Webkit sont OK.

## ğŸ“œ Licence

MIT License - Nicolas NOSAL - 2025


